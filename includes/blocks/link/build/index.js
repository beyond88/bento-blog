(()=>{"use strict";var e,t={366:(e,t,n)=>{const l=window.wp.blocks,r=window.wp.apiFetch;var o=n.n(r);const i=window.wp.blockEditor,a=window.wp.components,s=window.wp.element,c=window.wp.i18n,d={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let b;const x=new Uint8Array(16);function u(){if(!b){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b=crypto.getRandomValues.bind(crypto)}return b(x)}const p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).slice(1));const h=function(e,t,n){if(d.randomUUID&&!t&&!e)return d.randomUUID();const l=(e=e||{}).random||(e.rng||u)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=l[e];return t}return function(e,t=0){return(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase()}(l)},g=window.ReactJSXRuntime;(0,l.registerBlockType)("bento-blog/link",{apiVersion:2,title:"Bento Blog Link",description:"Add link blocks with bento layouts",category:"bento",icon:"external",supports:{html:!0,align:["wide","full"]},attributes:{url:{type:"string",source:"attribute",selector:"a",attribute:"href"},title:{type:"string",source:"text",selector:".bento-blog-link-title p"},favicon:{type:"string",source:"attribute",selector:".bento-blog-link-logo img.favicon",attribute:"src"},logo:{type:"string",source:"attribute",selector:".bento-blog-link-featured-image img",attribute:"src"},host:{},blockSize:{type:"string",default:"1x1"},blockId:{type:"string"}},edit:function({attributes:e,setAttributes:t}){const{url:n,title:l,favicon:r,logo:d,host:b,blockSize:x="1x1",blockId:u}=e,[p,f]=(0,s.useState)(!1),[m,k]=(0,s.useState)(""),w=(0,i.useBlockProps)();(0,s.useEffect)((()=>{e.blockId||t({blockId:h()})}),[e.blockId]);const y=180,v=400,j=70,_=180,$=400,N=(e=>{const t={};switch(e){case"2x0.5":t.width=`${v}px`,t.height=`${j}px`;break;case"2x1":t.width=`${v}px`,t.height=`${_}px`;break;case"1x2":t.width=`${y}px`,t.height=`${$}px`;break;case"2x2":t.width=`${v}px`,t.height=`${$}px`;break;default:t.width=`${y}px`,t.height=`${_}px`}return t})(x);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.InspectorControls,{children:(0,g.jsxs)(a.PanelBody,{title:(0,c.__)("Block Settings","bento-blog"),children:[(0,g.jsx)(a.SelectControl,{label:"Block Size",value:x,options:[{label:"1 × 1",value:"1x1"},{label:"2 × ½",value:"2x0.5"},{label:"2 × 1",value:"2x1"},{label:"1 × 2",value:"1x2"},{label:"2 × 2",value:"2x2"}],onChange:e=>{t({blockSize:e}),"undefined"!=typeof window&&window.onSizeChange&&window.onSizeChange()}}),(0,g.jsx)(a.TextControl,{label:(0,c.__)("Add link","bento-blog"),value:n||"",onChange:e=>t({url:e}),placeholder:(0,c.__)("Enter link","")}),(0,g.jsx)(a.Button,{isPrimary:!0,onClick:()=>{(async e=>{if(e){f(!0),k("");try{const n=`/bento-blog/v1/link-info?url=${encodeURIComponent(e)}`,l=await o()({path:n,method:"GET"});if(l.success){const n=l.data;t({url:e,title:n.title||"",favicon:n.favicon||"",logo:n.logo||"",host:n.domain})}else k(l.message||(0,c.__)("Failed to fetch website information","bento-blog"))}catch(e){console.error("Fetch error:",e),k((0,c.__)("Error fetching website information","bento-blog"))}finally{f(!1)}}})(n)},disabled:!n||p,children:(0,c.__)("Add","")}),m&&(0,g.jsx)("p",{className:"components-base-control__error",children:m})]})}),(0,g.jsx)("div",{...w,style:{...N},className:`bento-grid__item ${w.className} bento-grid__item-${e.blockId}`,"data-block":u,children:(0,g.jsx)("div",{className:"bento-blog-link",children:(0,g.jsx)("div",{className:"bento-blog-link-wrapper",style:(e=>{switch(e){case"2x2":return{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"flex-start"};case"2x1":return{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center"};case"1x2":return{display:"flex",flexDirection:"column",gap:"1rem"};case"2x0.5":return{flexDirection:"row",margin:"0"};default:return{}}})(x),children:p?(0,g.jsxs)("div",{className:"bento-blog-link-loading",children:[(0,g.jsx)(a.Spinner,{}),(0,g.jsx)("p",{children:(0,c.__)("Fetching website information...","bento-blog")})]}):n?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"bento-blog-link-content",style:(e=>{switch(e){case"2x1":case"2x2":return{flex:1,minWidth:0};case"2x0.5":return{display:"flex",alignItems:"center"};default:return{}}})(x),children:[(0,g.jsx)("div",{className:"bento-blog-link-logo",children:(0,g.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:r?(0,g.jsx)("img",{src:r,alt:(0,c.__)("Favicon for","bento-blog")+` ${l}`,className:"favicon"}):(0,g.jsx)("div",{className:"default-icon",children:"🌐"})})}),(0,g.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:"2x0.5"===x?{paddingLeft:"10px"}:{},children:[(0,g.jsx)("div",{className:"bento-blog-link-title",children:(0,g.jsx)("p",{style:"2x0.5"===x?{margin:"0"}:{},children:l||(0,c.__)("No title available","bento-blog")})}),(0,g.jsx)("div",{className:"bento-blog-link-host",style:"2x0.5"===x?{display:"none"}:{},children:(0,g.jsx)("p",{children:b})})]})]}),d&&(0,g.jsx)("div",{className:"bento-blog-link-featured-image",style:(e=>{switch(e){case"2x1":return{flex:"0 0 50%",maxWidth:"50%",display:"block"};case"1x2":return{flex:"auto",maxWidth:"100%",display:"block"};case"2x2":return{flex:"0 0 50%",maxWidth:"100%",display:"block"};default:return{display:"none"}}})(x),children:(0,g.jsx)("img",{src:d,alt:(0,c.__)("Featured image","bento-blog")})})]}):(0,g.jsx)("div",{className:"bento-blog-link-placeholder",children:(0,g.jsx)("p",{children:(0,c.__)("Enter a URL to preview website info.","bento-blog")})})})})})]})},save:function({attributes:e}){const{url:t,title:n,host:l,favicon:r,logo:o,blockSize:a,blockId:s}=e,d=i.useBlockProps.save(),b=180,x=400,u=70,p=180,h=400,f=(e=>{const t={};switch(e){case"2x0.5":t.width=`${x}px`,t.height=`${u}px`;break;case"2x1":t.width=`${x}px`,t.height=`${p}px`;break;case"1x2":t.width=`${b}px`,t.height=`${h}px`;break;case"2x2":t.width=`${x}px`,t.height=`${h}px`;break;default:t.width=`${b}px`,t.height=`${p}px`}return t})(a);return(0,g.jsx)("div",{...d,style:{...f},className:`bento-grid__item ${d.className} bento-grid__item-${s}`,"data-block":s,children:(0,g.jsx)("div",{className:"bento-blog-link",children:(0,g.jsxs)("div",{className:"bento-blog-link-wrapper",style:(e=>{switch(e){case"2x2":return{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"flex-start"};case"2x1":return{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center"};case"1x2":return{display:"flex",flexDirection:"column",gap:"1rem"};case"2x0.5":return{flexDirection:"row",margin:"0"};default:return{}}})(a),children:[(0,g.jsxs)("div",{className:"bento-blog-link-content",style:(e=>{switch(e){case"2x1":case"2x2":return{flex:"1",minWidth:0};case"2x0.5":return{display:"flex",alignItems:"center"};default:return{}}})(a),children:[(0,g.jsx)("div",{className:"bento-blog-link-logo",children:(0,g.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:r?(0,g.jsx)("img",{src:r,alt:`${(0,c.__)("Favicon for","")} ${n}`,className:"favicon"}):(0,g.jsx)("div",{className:"default-icon",children:"🌐"})})}),(0,g.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",style:"2x0.5"===a?{paddingLeft:"10px"}:{},children:[(0,g.jsx)("div",{className:"bento-blog-link-title",children:(0,g.jsx)("p",{style:"2x0.5"===a?{margin:"0"}:{},children:n||(0,c.__)("No title available","")})}),(0,g.jsx)("div",{className:"bento-blog-link-host",style:"2x0.5"===a?{display:"none"}:{},children:(0,g.jsx)("p",{children:l})})]})]}),(0,g.jsx)("div",{className:"bento-blog-link-featured-image",style:(e=>{switch(e){case"2x1":return{flex:"0 0 50%",maxWidth:"50%",display:"block"};case"1x2":return{flex:"auto",maxWidth:"100%",display:"block"};case"2x2":return{flex:"0 0 50%",maxWidth:"100%",display:"block"};default:return{display:"none"}}})(a),children:o&&(0,g.jsx)("img",{src:o,alt:`${(0,c.__)("Featured image for ","")}${n}`})})]})})})}})}},n={};function l(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,l),o.exports}l.m=t,e=[],l.O=(t,n,r,o)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,r,o]=e[d],a=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(l.O).every((e=>l.O[e](n[s])))?n.splice(s--,1):(a=!1,o<i&&(i=o));if(a){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,r,o]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,a,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);if(s)var d=s(l)}for(t&&t(n);c<i.length;c++)o=i[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(d)},n=globalThis.webpackChunkbento_blog_block=globalThis.webpackChunkbento_blog_block||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=l.O(void 0,[350],(()=>l(366)));r=l.O(r)})();