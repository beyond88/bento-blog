(()=>{"use strict";var r,a={741:()=>{const r=window.wp.blocks,a=window.wp.blockEditor,e=window.wp.components,t=window.wp.element,o=window.wp.i18n,s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let c;const i=new Uint8Array(16),n=[];for(let r=0;r<256;++r)n.push((r+256).toString(16).slice(1));const l=function(r,a,e){if(s.randomUUID&&!a&&!r)return s.randomUUID();const t=(r=r||{}).random??r.rng?.()??function(){if(!c){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");c=crypto.getRandomValues.bind(crypto)}return c(i)}();if(t.length<16)throw new Error("Random bytes length must be >= 16");if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,a){if((e=e||0)<0||e+16>a.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let r=0;r<16;++r)a[e+r]=t[r];return a}return function(r,a=0){return(n[r[a+0]]+n[r[a+1]]+n[r[a+2]]+n[r[a+3]]+"-"+n[r[a+4]]+n[r[a+5]]+"-"+n[r[a+6]]+n[r[a+7]]+"-"+n[r[a+8]]+n[r[a+9]]+"-"+n[r[a+10]]+n[r[a+11]]+n[r[a+12]]+n[r[a+13]]+n[r[a+14]]+n[r[a+15]]).toLowerCase()}(t)},d=window.ReactJSXRuntime;(0,r.registerBlockType)("bento-blog/gravatar",{apiVersion:2,title:"Bento Blog Gravatar",description:"Add Gravatar block with customizable layouts",category:"bento",icon:"admin-users",supports:{html:!0,align:["wide","full"]},attributes:{username:{type:"string",default:""},blockId:{type:"string",default:""},profile:{type:"object"}},edit:function({attributes:r,setAttributes:s}){const{username:c,blockId:i}=r,n=(0,a.useBlockProps)(),[h,_]=(0,t.useState)(null),[v,m]=(0,t.useState)(!1),[g,p]=(0,t.useState)(""),[f,w]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{r.blockId||s({blockId:l()})}),[r.blockId]),(0,t.useEffect)((()=>{(async()=>{if(c){m(!0),p("");try{let r=c.toLowerCase().trim();const a=await fetch(`https://api.gravatar.com/v3/profiles/${r}`);if(!a.ok)throw new Error("Profile not found");const e=await a.json();_(e),s({profile:e})}catch(r){p(r.message),_(null)}finally{m(!1)}}})()}),[c,s]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{...n,style:{width:"400px",height:"400px"},className:`bento-grid__item ${n.className} bento-grid__item-${r.blockId} `,"data-block":i,children:[(0,d.jsx)(a.InspectorControls,{children:(0,d.jsx)(e.PanelBody,{title:(0,o.__)("Gravatar Settings","bento-blog"),children:(0,d.jsx)(e.TextControl,{label:(0,o.__)("Gravatar Username/Email","bento-blog"),value:c||"",onChange:r=>s({username:r}),help:(0,o.__)("Enter your Gravatar username or email","bento-blog")})})}),(0,d.jsxs)("div",{className:"profile-card",children:[v&&(0,d.jsx)(e.Spinner,{}),g&&(0,d.jsx)("p",{className:"error-message",children:g}),h&&(0,d.jsx)("div",{className:"gravatar-hovercard",children:(0,d.jsxs)("div",{className:"gravatar-hovercard__inner",children:[(0,d.jsx)("div",{className:"gravatar-hovercard__header-image",style:{background:h.header_image?h.header_image:h.background_color}}),(0,d.jsxs)("div",{className:"gravatar-hovercard__header",children:[(0,d.jsx)("a",{className:"gravatar-hovercard__avatar-link",href:h.profile_url,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)("img",{className:"gravatar-hovercard__avatar",src:h.avatar_url,width:"104",height:"104",alt:h.avatar_alt_text||h.display_name})}),(0,d.jsxs)("a",{className:"gravatar-hovercard__personal-info-link",href:h.profile_url,target:"_blank",rel:"noopener noreferrer",children:[(0,d.jsx)("h4",{className:"gravatar-hovercard__name",children:h.display_name}),h.location&&(0,d.jsx)("p",{className:"gravatar-hovercard__location",children:h.location}),h.job_title&&(0,d.jsx)("p",{className:"gravatar-hovercard__job",children:h.job_title})]})]}),h.description&&(0,d.jsx)("div",{className:"gravatar-hovercard__body",children:(0,d.jsx)("p",{className:"gravatar-hovercard__description",children:h.description})}),h.verified_accounts&&h.verified_accounts.length>0&&(0,d.jsx)("div",{className:"gravatar-hovercard__social-links",children:h.verified_accounts.map((r=>(0,d.jsx)("a",{className:"gravatar-hovercard__social-link",href:r.url,target:"_blank",rel:"noopener noreferrer","data-service-name":r.service_type,children:(0,d.jsx)("img",{className:"gravatar-hovercard__social-icon",src:r.service_icon,width:"32",height:"32",alt:r.service_label})},r.url)))}),(0,d.jsx)("div",{className:"gravatar-hovercard__buttons",children:(0,d.jsx)("button",{className:"gravatar-hovercard__button","data-target-drawer":"contact",onClick:()=>{w(!0)},children:(0,o.__)("Contact","bento-layout")})}),h.contact_info&&(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer "+(f?"gravatar-hovercard__drawer--open":""),"data-drawer-name":"contact",children:[(0,d.jsx)("div",{className:"gravatar-hovercard__drawer-backdrop","data-target-drawer":"contact"}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-card",children:[(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-header",children:[(0,d.jsx)("h2",{className:"gravatar-hovercard__drawer-title",children:"Contact"}),(0,d.jsx)("button",{className:"gravatar-hovercard__drawer-close","data-target-drawer":"contact",onClick:()=>{const r=document.querySelector('.gravatar-hovercard__drawer[data-drawer-name="contact"]');r&&(r.classList.add("gravatar-hovercard__drawer--closing"),w(!1),r.classList.remove("gravatar-hovercard__drawer--open"),setTimeout((()=>{r.classList.remove("gravatar-hovercard__drawer--closing")}),300))},children:(0,d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),(0,d.jsxs)("ul",{className:"gravatar-hovercard__drawer-items",children:[h.contact_info.email&&(0,d.jsxs)("li",{className:"gravatar-hovercard__drawer-item",children:[(0,d.jsx)("img",{className:"gravatar-hovercard__drawer-item-icon",width:"24",height:"24",src:"https://secure.gravatar.com/icons/mail.svg",alt:""}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-item-info",children:[(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-label",children:"email"}),(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-text",children:(0,d.jsx)("a",{className:"gravatar-hovercard__drawer-item-link",href:`mailto:${h.contact_info.email}`,target:"_blank",rel:"noopener noreferrer",children:h.contact_info.email})})]})]}),h.contact_info.home_phone&&(0,d.jsxs)("li",{className:"gravatar-hovercard__drawer-item",children:[(0,d.jsx)("img",{className:"gravatar-hovercard__drawer-item-icon",width:"24",height:"24",src:"https://secure.gravatar.com/icons/home-phone.svg",alt:""}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-item-info",children:[(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-label",children:"home phone"}),(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-text",children:(0,d.jsx)("a",{className:"gravatar-hovercard__drawer-item-link",href:`tel:${h.contact_info.home_phone}`,target:"_blank",rel:"noopener noreferrer",children:h.contact_info.home_phone})})]})]}),h.contact_info.cell_phone&&(0,d.jsxs)("li",{className:"gravatar-hovercard__drawer-item",children:[(0,d.jsx)("img",{className:"gravatar-hovercard__drawer-item-icon",width:"24",height:"24",src:"https://secure.gravatar.com/icons/mobile-phone.svg",alt:""}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-item-info",children:[(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-label",children:"cell phone"}),(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-text",children:(0,d.jsx)("a",{className:"gravatar-hovercard__drawer-item-link",href:`tel:${h.contact_info.cell_phone}`,target:"_blank",rel:"noopener noreferrer",children:h.contact_info.cell_phone})})]})]}),h.contact_info.work_phone&&(0,d.jsxs)("li",{className:"gravatar-hovercard__drawer-item",children:[(0,d.jsx)("img",{className:"gravatar-hovercard__drawer-item-icon",width:"24",height:"24",src:"https://secure.gravatar.com/icons/work-phone.svg",alt:""}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-item-info",children:[(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-label",children:"work phone"}),(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-text",children:(0,d.jsx)("a",{className:"gravatar-hovercard__drawer-item-link",href:`tel:${h.contact_info.work_phone}`,target:"_blank",rel:"noopener noreferrer",children:h.contact_info.work_phone})})]})]})]})]})]})]})})]})]})})},save:function({attributes:r}){const{username:e,blockId:t}=r,s=a.useBlockProps.save(),c="this.closest('.bento-grid__item').querySelector('.gravatar-hovercard__drawer').classList.add('gravatar-hovercard__drawer--open')",i="\n        const drawer = this.closest('.gravatar-hovercard__drawer');\n        drawer.classList.add('gravatar-hovercard__drawer--closing');\n        drawer.classList.remove('gravatar-hovercard__drawer--open');\n        setTimeout(() => drawer.classList.remove('gravatar-hovercard__drawer--closing'), 300);\n    ";return(0,d.jsx)("div",{...s,style:{width:"400px",height:"400px"},className:`bento-grid__item ${s.className} bento-grid__item-${t}`,"data-block":t,children:(0,d.jsx)("div",{className:"profile-card",children:(0,d.jsx)("div",{className:"gravatar-hovercard",children:(0,d.jsxs)("div",{className:"gravatar-hovercard__inner",children:[(0,d.jsx)("div",{className:"gravatar-hovercard__header-image",style:{background:r.profile?.header_image?r.profile.header_image:r.profile?.background_color}}),(0,d.jsxs)("div",{className:"gravatar-hovercard__header",children:[(0,d.jsx)("a",{className:"gravatar-hovercard__avatar-link",href:r.profile?.profile_url,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)("img",{className:"gravatar-hovercard__avatar",src:r.profile?.avatar_url,width:"104",height:"104",alt:r.profile?.avatar_alt_text||r.profile?.display_name})}),(0,d.jsxs)("a",{className:"gravatar-hovercard__personal-info-link",href:r.profile?.profile_url,target:"_blank",rel:"noopener noreferrer",children:[(0,d.jsx)("h4",{className:"gravatar-hovercard__name",children:r.profile?.display_name}),r.profile?.location&&(0,d.jsx)("p",{className:"gravatar-hovercard__location",children:r.profile.location}),r.profile?.job_title&&(0,d.jsx)("p",{className:"gravatar-hovercard__job",children:r.profile.job_title})]})]}),r.profile?.description&&(0,d.jsx)("div",{className:"gravatar-hovercard__body",children:(0,d.jsx)("p",{className:"gravatar-hovercard__description",children:r.profile.description})}),r.profile?.verified_accounts&&r.profile.verified_accounts.length>0&&(0,d.jsx)("div",{className:"gravatar-hovercard__social-links",children:r.profile.verified_accounts.map((r=>(0,d.jsx)("a",{className:"gravatar-hovercard__social-link",href:r.url,target:"_blank",rel:"noopener noreferrer","data-service-name":r.service_type,children:(0,d.jsx)("img",{className:"gravatar-hovercard__social-icon",src:r.service_icon,width:"32",height:"32",alt:r.service_label})},r.url)))}),(0,d.jsx)("div",{className:"gravatar-hovercard__buttons",children:(0,d.jsx)("button",{className:"gravatar-hovercard__button","data-target-drawer":"contact",onClick:c,onclick:c,children:(0,o.__)("Contact","bento-layout")})}),r.profile?.contact_info&&(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer","data-drawer-name":"contact",children:[(0,d.jsx)("div",{className:"gravatar-hovercard__drawer-backdrop","data-target-drawer":"contact",onclick:i}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-card",children:[(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-header",children:[(0,d.jsx)("h2",{className:"gravatar-hovercard__drawer-title",children:(0,o.__)("Contact","bento-layout")}),(0,d.jsx)("button",{className:"gravatar-hovercard__drawer-close","data-target-drawer":"contact",onclick:i,children:(0,d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),(0,d.jsxs)("ul",{className:"gravatar-hovercard__drawer-items",children:[r.profile.contact_info.email&&(0,d.jsxs)("li",{className:"gravatar-hovercard__drawer-item",children:[(0,d.jsx)("img",{className:"gravatar-hovercard__drawer-item-icon",width:"24",height:"24",src:"https://secure.gravatar.com/icons/mail.svg",alt:""}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-item-info",children:[(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-label",children:"email"}),(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-text",children:(0,d.jsx)("a",{className:"gravatar-hovercard__drawer-item-link",href:`mailto:${r.profile.contact_info.email}`,target:"_blank",rel:"noopener noreferrer",children:r.profile.contact_info.email})})]})]}),r.profile.contact_info.home_phone&&(0,d.jsxs)("li",{className:"gravatar-hovercard__drawer-item",children:[(0,d.jsx)("img",{className:"gravatar-hovercard__drawer-item-icon",width:"24",height:"24",src:"https://secure.gravatar.com/icons/home-phone.svg",alt:""}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-item-info",children:[(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-label",children:"home phone"}),(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-text",children:(0,d.jsx)("a",{className:"gravatar-hovercard__drawer-item-link",href:`tel:${r.profile.contact_info.home_phone}`,target:"_blank",rel:"noopener noreferrer",children:r.profile.contact_info.home_phone})})]})]}),r.profile.contact_info.cell_phone&&(0,d.jsxs)("li",{className:"gravatar-hovercard__drawer-item",children:[(0,d.jsx)("img",{className:"gravatar-hovercard__drawer-item-icon",width:"24",height:"24",src:"https://secure.gravatar.com/icons/mobile-phone.svg",alt:""}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-item-info",children:[(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-label",children:"cell phone"}),(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-text",children:(0,d.jsx)("a",{className:"gravatar-hovercard__drawer-item-link",href:`tel:${r.profile.contact_info.cell_phone}`,target:"_blank",rel:"noopener noreferrer",children:r.profile.contact_info.cell_phone})})]})]}),r.profile.contact_info.work_phone&&(0,d.jsxs)("li",{className:"gravatar-hovercard__drawer-item",children:[(0,d.jsx)("img",{className:"gravatar-hovercard__drawer-item-icon",width:"24",height:"24",src:"https://secure.gravatar.com/icons/work-phone.svg",alt:""}),(0,d.jsxs)("div",{className:"gravatar-hovercard__drawer-item-info",children:[(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-label",children:"work phone"}),(0,d.jsx)("span",{className:"gravatar-hovercard__drawer-item-text",children:(0,d.jsx)("a",{className:"gravatar-hovercard__drawer-item-link",href:`tel:${r.profile.contact_info.work_phone}`,target:"_blank",rel:"noopener noreferrer",children:r.profile.contact_info.work_phone})})]})]})]})]})]})]})})})})}})}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var s=e[r]={exports:{}};return a[r](s,s.exports,t),s.exports}t.m=a,r=[],t.O=(a,e,o,s)=>{if(!e){var c=1/0;for(d=0;d<r.length;d++){for(var[e,o,s]=r[d],i=!0,n=0;n<e.length;n++)(!1&s||c>=s)&&Object.keys(t.O).every((r=>t.O[r](e[n])))?e.splice(n--,1):(i=!1,s<c&&(c=s));if(i){r.splice(d--,1);var l=o();void 0!==l&&(a=l)}}return a}s=s||0;for(var d=r.length;d>0&&r[d-1][2]>s;d--)r[d]=r[d-1];r[d]=[e,o,s]},t.o=(r,a)=>Object.prototype.hasOwnProperty.call(r,a),(()=>{var r={57:0,350:0};t.O.j=a=>0===r[a];var a=(a,e)=>{var o,s,[c,i,n]=e,l=0;if(c.some((a=>0!==r[a]))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(n)var d=n(t)}for(a&&a(e);l<c.length;l++)s=c[l],t.o(r,s)&&r[s]&&r[s][0](),r[s]=0;return t.O(d)},e=globalThis.webpackChunkbento_blog_block=globalThis.webpackChunkbento_blog_block||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))})();var o=t.O(void 0,[350],(()=>t(741)));o=t.O(o)})();