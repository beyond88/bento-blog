(()=>{"use strict";var t,e={808:()=>{const t=window.wp.blocks,e=window.wp.blockEditor,n=window.wp.element,o=window.ReactJSXRuntime;(0,t.registerBlockType)("bento-blog/container",{apiVersion:2,title:"Bento Blog Container",description:"Add bento container with customizable layouts",category:"bento",icon:"columns",supports:{html:!0,align:["wide","full"]},attributes:{imageUrl:{type:"string",default:""},containerWidth:{type:"string",default:"1144"},blockId:{type:"string"},itemPositions:{type:"string"},gridContent:{type:"string"}},edit:function({attributes:t,setAttributes:r}){const i=(0,e.useBlockProps)(),s=(0,n.useRef)(null),[l,a]=(0,n.useState)(0),[c,b]=(0,n.useState)(!1),u={SINGLE:180,DOUBLE:400,HALF:70},d=()=>{if(!s.current)return;const t=s.current.closest(".wp-block-bento-blog-container"),e=t?t.offsetWidth:0;a(e);const n=s.current.querySelectorAll(".bento-grid__item");if(!n?.length)return;c||(n.forEach((t=>{t.style.position="absolute",t.style.transition="transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",t.style.willChange="transform"})),b(!0));const o=Math.floor((e+40)/(u.SINGLE+40)),i=Math.min(4,o);let l=Array(200).fill().map((()=>Array(i).fill(!1)));const d=[],h=(t,e,n,o)=>{if(e+n>i)return!1;for(let r=t;r<t+o;r++)for(let t=e;t<e+n;t++)if(l[r][t])return!1;return!0},g=(t,e,n,o)=>{for(let r=t;r<t+o;r++)for(let t=e;t<e+n;t++)l[r][t]=!0};n.forEach((t=>{const e=window.getComputedStyle(t),n=parseFloat(e.width),o=parseFloat(e.height),r=Math.abs(n-u.DOUBLE)<1?2:1,s=Math.max(1,Math.round(o/(u.SINGLE+40)*2));let a=!1,c=0;for(;!a&&c<l.length;){for(let e=0;e<=i-r;e++)if(h(c,e,r,s)){const n=e*u.SINGLE+40*e,o=c/2*(u.SINGLE+40);t.style.transform=`translate(${n}px, ${o}px)`,d.push({clientId:t.getAttribute("data-block"),transform:`translate(${n}px, ${o}px)`,width:r,height:s}),g(c,e,r,s),a=!0;break}c++}}));const p=l.findLastIndex((t=>t.some((t=>t)))),f=Math.ceil(p/2)*(u.SINGLE+40)+40+100;s.current.style.height=`${f}px`,r({itemPositions:JSON.stringify(d),gridContent:JSON.stringify({height:f,columnCount:i,gapSize:40,rowGapSize:40,blockSizes:u}),containerWidth:e})};return(0,n.useEffect)((()=>{const t=()=>{requestAnimationFrame(d)};d();const e=new ResizeObserver(t),n=new MutationObserver(t),o=s.current?.closest(".wp-block-bento-blog-container");return o&&e.observe(o),s.current&&n.observe(s.current,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect(),n.disconnect()}}),[]),(0,o.jsx)("div",{...i,children:(0,o.jsx)("div",{className:"bento-grid",style:{width:`${l}px`},children:(0,o.jsx)("div",{className:"bento-grid__content",ref:s,style:{position:"relative"},children:(0,o.jsx)(e.InnerBlocks,{allowedBlocks:["bento-blog/image","bento-blog/video","bento-blog/link","bento-blog/map","bento-blog/post","bento-blog/social","bento-blog/text","bento-blog/gravatar"]})})})})},save:function({attributes:t}){const n=e.useBlockProps.save(),r=JSON.parse(t.itemPositions||"[]"),i=JSON.parse(t.gridContent||"{}"),s=t.containerWidth||0;return(0,o.jsxs)("div",{...n,children:[(0,o.jsx)("style",{children:`.bento-grid__item {\n                    position: absolute;\n                    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n                    will-change: transform;\n                }\n                ${r.map((({clientId:t,transform:e})=>`.bento-grid__item-${t} {\n                    transform: ${e};\n                }`)).join("\n")}`}),(0,o.jsx)("div",{className:"bento-grid",style:{width:`${s}px`},children:(0,o.jsx)("div",{className:"bento-grid__content",style:{position:"relative",height:"number"==typeof i.height?`${i.height}px`:i.height||"auto"},children:(0,o.jsx)(e.InnerBlocks.Content,{})})})]})}})}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.m=e,t=[],o.O=(e,n,r,i)=>{if(!n){var s=1/0;for(b=0;b<t.length;b++){for(var[n,r,i]=t[b],l=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(o.O).every((t=>o.O[t](n[a])))?n.splice(a--,1):(l=!1,i<s&&(s=i));if(l){t.splice(b--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var b=t.length;b>0&&t[b-1][2]>i;b--)t[b]=t[b-1];t[b]=[n,r,i]},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={57:0,350:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var r,i,[s,l,a]=n,c=0;if(s.some((e=>0!==t[e]))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(a)var b=a(o)}for(e&&e(n);c<s.length;c++)i=s[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(b)},n=globalThis.webpackChunkbento_blog_block=globalThis.webpackChunkbento_blog_block||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var r=o.O(void 0,[350],(()=>o(808)));r=o.O(r)})();